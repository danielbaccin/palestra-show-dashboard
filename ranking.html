<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Ranking de Vendedores</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, Helvetica, sans-serif;
  background: #f4f6f8;
  padding: 20px;
}

h1 {
  text-align: center;
}

input {
  width: 100%;
  padding: 10px;
  margin: 15px 0;
  border-radius: 8px;
  border: 1px solid #ccc;
}

table {
  width: 100%;
  border-collapse: collapse;
  background: #fff;
  border-radius: 12px;
  overflow: hidden;
}

th, td {
  padding: 12px;
  border-bottom: 1px solid #eee;
  text-align: left;
}

th {
  background: #2563eb;
  color: #fff;
}

tr:nth-child(even) {
  background: #f9fafb;
}

.money {
  color: #16a34a;
  font-weight: bold;
}
</style>
</head>

<body>

<h1>üèÜ Ranking de Vendedores</h1>

<input type="text" id="search" placeholder="Buscar vendedor...">

<table>
  <thead>
  <tr>
    <th>#</th>
    <th>Vendedor</th>
    <th>Qtde Total</th>
    <th>Qtde Inteiras</th>
    <th>Qtde Meias</th>
    <th>Valor</th>
  </tr>
</thead>
  <tbody id="rankingBody"></tbody>
</table>

<script>
const URL = 'https://SEU_N8N/webhook/ranking';

let ranking = [];

fetch(URL)
  .then(r => r.json())
  .then(data => {
    ranking = data.ranking;
    render(ranking);
  });

function render(list) {
  rankingBody.innerHTML = '';
  list.forEach(v => {
  rankingBody.innerHTML += `
    <tr>
      <td>${v.posicao}</td>
      <td>${v.vendedor}</td>
      <td>${v.qtdTotal}</td>
      <td>${v.qtdInteiras}</td>
      <td>${v.qtdMeias}</td>
      <td class="money">R$ ${v.valor.toLocaleString('pt-BR')}</td>
    </tr>
  `;
});
}

search.addEventListener('input', e => {
  const val = e.target.value.toLowerCase();
  render(ranking.filter(v => v.vendedor.toLowerCase().includes(val)));
});
</script>

</body>
</html>
