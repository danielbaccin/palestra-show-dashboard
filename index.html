<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Dashboard de Vendas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, Helvetica, sans-serif;
  background: #f4f6f8;
  padding: 20px;
}

h1, h2 {
  text-align: center;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
}

.card {
  background: #fff;
  padding: 16px;
  border-radius: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.08);
  text-align: center;
}

.card h3 {
  font-size: 14px;
  color: #666;
}

.card p {
  font-size: 26px;
  font-weight: bold;
  margin: 0;
}

.money {
  color: #16a34a;
}

/* TOP 3 */
.top3 {
  margin-top: 30px;
}

.top3 ul {
  list-style: none;
  padding: 0;
  margin: 0 auto;
  max-width: 400px;
}

.top3 li {
  background: #fff;
  margin-bottom: 10px;
  padding: 12px 16px;
  border-radius: 10px;
  display: flex;
  justify-content: space-between;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
}

.rank {
  font-weight: bold;
}

.link {
  text-align: center;
  margin-top: 10px;
}

.link a {
  text-decoration: none;
  color: #2563eb;
  font-weight: bold;
}
</style>
</head>

<body>

<h1>üìä Dashboard de Vendas</h1>

<h2>üí∞ Vendas</h2>
<div class="grid">
  <div class="card"><h3>Total</h3><p class="money">R$ <span id="totalVendas"></span></p></div>
  <div class="card"><h3>Inteiras</h3><p id="qtdInteiras"></p></div>
  <div class="card"><h3>Meias</h3><p id="qtdMeias"></p></div>
  <div class="card"><h3>Cortesias</h3><p id="qtdCortesias"></p></div>
</div>

<h2>üèÜ Top 3 Vendedores</h2>
<div class="top3">
  <ul id="top3List"></ul>
  <div class="link">
    <a href="ranking.html">Ver ranking completo ‚Üí</a>
  </div>
</div>

<script>
const URL = 'https://SEU_N8N/webhook/vendas';

fetch(URL)
  .then(r => r.json())
  .then(data => {
    totalVendas.innerText = data.totalVendas.toLocaleString('pt-BR');
    qtdInteiras.innerText = data.qtdInteiras;
    qtdMeias.innerText = data.qtdMeias;
    qtdCortesias.innerText = data.qtdCortesias;

    const ul = document.getElementById('top3List');
    data.top3.forEach((v, i) => {
      ul.innerHTML += `
        <li>
          <span class="rank">${i+1}¬∫ ${v.vendedor}</span>
          <span class="money">R$ ${v.valor.toLocaleString('pt-BR')}</span>
        </li>
      `;
    });
  });
</script>

</body>
</html>
